---
title: 基于LLM的三元情感分析
date: 2026-01-22
tags:
  - LLM
draft: true
slug: auto_reply_draft
---
## 一、调用模型获得评论的三元情绪数组
### 提示词：
```
以下のアスペクト感情三つ組抽出タスクを実行してください。
以下の文について，（アスペクト，オピニオン，感情）のすべてのトリプレットを抽出してください。アスペクトおよびオピニオンは必ず文中に現れる部分文字列とし，感情ラベルは ['negative', 'neutral', 'positive'] から選択してください。
二重引用符で囲まれた3つの文字列からなるタプルのPythonリストを返してください。他のコメントや説明は一切出力せず、Pythonリストのみを返してください。
文：
寿司は普通で、値段は決して安くありません。
ラベル：[('寿司', '普通', 'neutral')]
文：
雰囲気と音楽がファンキーで、とても気に入っています。
ラベル：[('雰囲気', 'ファンキー', 'positive'), ('雰囲気', '気に入っている', 'positive'), ('音楽', 'ファンキー', 'positive'), ('音楽', '気に入っている', 'positive')]
文：
混んでいなかったにもかかわらず、サービスが遅く、注文や料理を受け取るまで待たされました。
ラベル：[('サービス', '遅い', 'negative')]
文：
しかし、ここは良いたまり場だと思います。
ラベル：[('場所', '良い', 'positive')]
文：
雰囲気はそれほど良くありませんが、それで価格を抑えているのだと思います。
ラベル：[('雰囲気', 'それほど良くない', 'neutral'), ('価格', '抑えている', 'positive')]
文：
値段に見合う価値はまったくありません！
ラベル：[('価格', '価値がない', 'negative')]
文：
メニューの選択肢は似ていますが、味は見た目ほど風味がありませんでした。
ラベル：[('味', '欠けている', 'negative'), ('メニューの選択肢', '似ている', 'neutral'), ('風味', '欠けている', 'negative')]

文：
```
得到类似于下列的情感三元数组：
```
[('味', '欠けている', 'negative'), 
('メニューの選択肢', '似ている', 'neutral'), 
('風味', '欠けている', 'negative')]
```

## 二、针对不同的情绪指定不同的回复要求：
``` python
if sentiment == 'negative':
    strategy = 'apology'
    tone = 'sincere'
elif sentiment == 'positive':
    strategy = 'thank_you'
    tone = 'cheerful'
elif sentiment == 'neutral':
    strategy = 'acknowledge'
    tone = 'polite'

```
根据上述的分类，提出总的回复要求：
```
1.要对'味'方面的'欠けている'描述的'negative'情绪表示'apology'，语气要'sincere')
2.要对'メニューの選択肢'方面的'似ている'描述的'neutral'情绪表示'acknowledge',语气要'polite'
3.类似
```
### 三、形成完整提示词，调用模型生成回复
综合上述的要求，形成完整提示词，提供回复不同语气和策略的模板，调用模型生成回复，